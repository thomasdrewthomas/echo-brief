(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{417:function(e,t,r){Promise.resolve().then(r.bind(r,1410))},1410:function(e,t,r){"use strict";r.d(t,{AudioUploadForm:function(){return A}});var o=r(7437),n=r(2265),a=r(3590),s=r(6843),i=r(7255),l=r(6957),c=r(6300),d=r(1785),u=r(4321),f=r(6882),m=r(760);let p=[],g={allowDangerousHtml:!0},h=/^(https?|ircs?|mailto|xmpp)$/i,y=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function x(e){let t=function(e){let t=e.rehypePlugins||p,r=e.remarkPlugins||p,o=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...g}:g;return(0,u.l)().use(c.Z).use(r).use(d.Z,o).use(t)}(e),r=function(e){let t=e.children||"",r=new m.k;return"string"==typeof t?r.value=t:(0,s.t1)("Unexpected value `"+t+"` for `children` prop, expected `string`"),r}(e);return function(e,t){let r=t.allowedElements,n=t.allowElement,a=t.components,c=t.disallowedElements,d=t.skipHtml,u=t.unwrapDisallowed,m=t.urlTransform||w;for(let e of y)Object.hasOwn(t,e.from)&&(0,s.t1)("Unexpected `"+e.from+"` prop, "+(e.to?"use `"+e.to+"` instead":"remove it")+" (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#"+e.id+"> for more info)");return r&&c&&(0,s.t1)("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:"root"===e.type?e.children:[e]}),(0,f.Vn)(e,function(e,t,o){if("raw"===e.type&&o&&"number"==typeof t)return d?o.children.splice(t,1):o.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in l.w)if(Object.hasOwn(l.w,t)&&Object.hasOwn(e.properties,t)){let r=e.properties[t],o=l.w[t];(null===o||o.includes(e.tagName))&&(e.properties[t]=m(String(r||""),t,e))}}if("element"===e.type){let a=r?!r.includes(e.tagName):!!c&&c.includes(e.tagName);if(!a&&n&&"number"==typeof t&&(a=!n(e,t,o)),a&&o&&"number"==typeof t)return u&&e.children?o.children.splice(t,1,...e.children):o.children.splice(t,1),t}}),(0,i.v)(e,{Fragment:o.Fragment,components:a,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0})}(t.runSync(t.parse(r),r),e)}function w(e){let t=e.indexOf(":"),r=e.indexOf("?"),o=e.indexOf("#"),n=e.indexOf("/");return -1===t||-1!==n&&t>n||-1!==r&&t>r||-1!==o&&t>o||h.test(e.slice(0,t))?e:""}var b=r(3548),j=r(9501),v=r(1229),N=r(2869),k=r(5681),E=r(3647),T=r(5186),S=r(9116),C=r(2636),P=r(1817),I=r(2489),_=r(535),O=r(4508);let z=(0,_.j)("fixed top-4 left-1/2 transform -translate-x-1/2 w-full max-w-sm p-4 rounded-lg shadow-lg text-white flex items-center justify-between",{variants:{variant:{success:"bg-green-500",error:"bg-red-500"}},defaultVariants:{variant:"success"}});function R(e){let{className:t,variant:r,message:a,onClose:s,autoHideDuration:i=5e3,...l}=e,[c,d]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e=setTimeout(()=>{d(!1),null==s||s()},i);return()=>clearTimeout(e)},[i,s]),c)?(0,o.jsxs)("div",{className:(0,O.cn)(z({variant:r}),t),...l,children:[(0,o.jsx)("span",{children:a}),(0,o.jsx)("button",{onClick:()=>{d(!1),null==s||s()},className:"ml-4 p-1 rounded-full hover:bg-white/20 transition-colors","aria-label":"Close notification",children:(0,o.jsx)(I.Z,{className:"h-4 w-4"})})]}):null}var F=r(6070);let Z=v.Ry({audioFile:v.Pp(File),promptCategory:v.Z_({required_error:"Please select a prompt category."}),promptSubcategory:v.Z_({required_error:"Please select a prompt subcategory."})});function A(){let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(null),[i,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,f]=(0,n.useState)(!0),[m,p]=(0,n.useState)(null),g=(0,j.cI)({resolver:(0,a.F)(Z)}),h=(0,n.useCallback)(()=>{f(!0),(0,S.Ox)().then(e=>{let r=e.data;t(r),localStorage.setItem("promptCategories",JSON.stringify(r)),f(!1)}).catch(e=>{console.error("Error fetching prompts:",e),p({type:"error",message:"Failed to load prompt categories. Please try again later."}),f(!1)})},[]);(0,n.useEffect)(()=>{let e=localStorage.getItem("promptCategories");e?(t(JSON.parse(e)),f(!1)):h()},[h]);let y=(0,n.useCallback)(async e=>{d(!0);try{let t=localStorage.getItem("token");if(!t)throw Error("No authentication token found. Please log in again.");let r=await (0,S.cT)(e.audioFile,e.promptCategory,e.promptSubcategory,t);p({type:"success",message:"File ".concat(e.audioFile.name," uploaded successfully! Job ID: ").concat(r.job_id)}),g.reset(),s(null),l(null)}catch(t){console.error("Error in form submission:",t);let e="There was an error uploading your file. Please try again.";t instanceof Error&&(e=t.message),p({type:"error",message:e})}finally{d(!1)}},[g]),w=e.find(e=>e.category_id===r),v=null==w?void 0:w.subcategories.find(e=>e.subcategory_id===i);return(0,o.jsxs)(o.Fragment,{children:[m&&(0,o.jsx)(R,{variant:m.type,message:m.message,onClose:()=>p(null)}),(0,o.jsx)(k.l0,{...g,children:(0,o.jsxs)("form",{onSubmit:g.handleSubmit(y),className:"space-y-8",children:[(0,o.jsx)(k.Wi,{control:g.control,name:"audioFile",render:e=>{let{field:t}=e;return(0,o.jsxs)(k.xJ,{children:[(0,o.jsx)(k.lX,{children:"Audio File"}),(0,o.jsx)(k.NI,{children:(0,o.jsx)(T.I,{type:"file",accept:"audio/*",onChange:e=>{var r;t.onChange(null===(r=e.target.files)||void 0===r?void 0:r[0])}})}),(0,o.jsx)(k.pf,{children:"Upload an audio file (no size limit)"}),(0,o.jsx)(k.zG,{})]})}}),(0,o.jsx)(k.Wi,{control:g.control,name:"promptCategory",render:t=>{let{field:n}=t;return(0,o.jsxs)(k.xJ,{children:[(0,o.jsx)(k.lX,{children:"Prompt Category"}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)(E.Ph,{value:r||"",onValueChange:e=>{n.onChange(e),s(e),l(null),g.setValue("promptSubcategory","")},disabled:u,children:[(0,o.jsx)(k.NI,{children:(0,o.jsx)(E.i4,{children:(0,o.jsx)(E.ki,{placeholder:"Select a category"})})}),(0,o.jsx)(E.Bw,{children:e.map(e=>(0,o.jsx)(E.Ql,{value:e.category_id,children:e.category_name},e.category_id))})]}),(0,o.jsxs)(N.z,{type:"button",variant:"outline",onClick:h,disabled:u,children:[(0,o.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),u?"Refreshing...":"Refresh"]})]}),(0,o.jsx)(k.zG,{})]})}}),(0,o.jsx)(k.Wi,{control:g.control,name:"promptSubcategory",render:e=>{let{field:t}=e;return(0,o.jsxs)(k.xJ,{children:[(0,o.jsx)(k.lX,{children:"Prompt Subcategory"}),(0,o.jsxs)(E.Ph,{value:i||"",onValueChange:e=>{t.onChange(e),l(e)},disabled:!r,children:[(0,o.jsx)(k.NI,{children:(0,o.jsx)(E.i4,{children:(0,o.jsx)(E.ki,{placeholder:"Select a subcategory"})})}),(0,o.jsx)(E.Bw,{children:null==w?void 0:w.subcategories.map(e=>(0,o.jsx)(E.Ql,{value:e.subcategory_id,children:e.subcategory_name},e.subcategory_id))})]}),(0,o.jsx)(k.zG,{})]})}}),v&&(0,o.jsxs)(F.Zb,{children:[(0,o.jsxs)(F.Ol,{children:[(0,o.jsx)(F.ll,{className:"font-bold",children:v.subcategory_name}),(0,o.jsx)(F.SZ,{children:"Prompt details for the selected subcategory"})]}),(0,o.jsx)(F.aY,{className:"p-4 overflow-auto max-h-60",children:Object.entries(v.prompts).map(e=>{let[t,r]=e;return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h4",{className:"font-semibold text-lg",children:t}),(0,o.jsx)(x,{remarkPlugins:[b.Z],className:"text-sm text-gray-600",children:r})]},t)})})]}),(0,o.jsx)(N.z,{type:"submit",disabled:c||!g.formState.isValid,children:c?(0,o.jsx)(P.Z,{className:"mr-2 h-4 w-4 animate-spin"}):"Upload and Process"})]})})]})}},2869:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return c}});var o=r(7437),n=r(2265),a=r(7053),s=r(535),i=r(4508);let l=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,o.jsx)(u,{className:(0,i.cn)(l({variant:n,size:s,className:r})),ref:t,...d})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return s},aY:function(){return d},ll:function(){return l}});var o=r(7437),n=r(2265),a=r(4508);let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});s.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},5681:function(e,t,r){"use strict";r.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return c},lX:function(){return g},pf:function(){return y},xJ:function(){return p},zG:function(){return x}});var o=r(7437),n=r(2265),a=r(7053),s=r(9501),i=r(4508),l=r(6815);let c=s.RV,d=n.createContext({}),u=e=>{let{...t}=e;return(0,o.jsx)(d.Provider,{value:{name:t.name},children:(0,o.jsx)(s.Qr,{...t})})},f=()=>{let e=n.useContext(d),t=n.useContext(m),{getFieldState:r,formState:o}=(0,s.Gc)(),a=r(e.name,o);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...a}},m=n.createContext({}),p=n.forwardRef((e,t)=>{let{className:r,...a}=e,s=n.useId();return(0,o.jsx)(m.Provider,{value:{id:s},children:(0,o.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...a})})});p.displayName="FormItem";let g=n.forwardRef((e,t)=>{let{className:r,...n}=e,{error:a,formItemId:s}=f();return(0,o.jsx)(l._,{ref:t,className:(0,i.cn)(a&&"text-destructive",r),htmlFor:s,...n})});g.displayName="FormLabel";let h=n.forwardRef((e,t)=>{let{...r}=e,{error:n,formItemId:s,formDescriptionId:i,formMessageId:l}=f();return(0,o.jsx)(a.g7,{ref:t,id:s,"aria-describedby":n?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!n,...r})});h.displayName="FormControl";let y=n.forwardRef((e,t)=>{let{className:r,...n}=e,{formDescriptionId:a}=f();return(0,o.jsx)("p",{ref:t,id:a,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});y.displayName="FormDescription";let x=n.forwardRef((e,t)=>{let{className:r,children:n,...a}=e,{error:s,formMessageId:l}=f(),c=s?String(null==s?void 0:s.message):n;return c?(0,o.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm font-medium text-destructive",r),...a,children:c}):null});x.displayName="FormMessage"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var o=r(7437),n=r(2265),a=r(4508);let s=n.forwardRef((e,t)=>{let{className:r,type:n,...s}=e;return(0,o.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});s.displayName="Input"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var o=r(7437),n=r(2265),a=r(6394),s=r(535),i=r(4508);let l=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(a.f,{ref:t,className:(0,i.cn)(l(),r),...n})});c.displayName=a.f.displayName},3647:function(e,t,r){"use strict";r.d(t,{Bw:function(){return g},Ph:function(){return d},Ql:function(){return h},i4:function(){return f},ki:function(){return u}});var o=r(7437),n=r(2265),a=r(8951),s=r(875),i=r(2135),l=r(401),c=r(4508);let d=a.fC;a.ZA;let u=a.B4,f=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,o.jsxs)(a.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[n,(0,o.jsx)(a.JO,{asChild:!0,children:(0,o.jsx)(s.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=a.xz.displayName;let m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(a.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,o.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=a.u_.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(a.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,o.jsx)(s.Z,{className:"h-4 w-4"})})});p.displayName=a.$G.displayName;let g=n.forwardRef((e,t)=>{let{className:r,children:n,position:s="popper",...i}=e;return(0,o.jsx)(a.h_,{children:(0,o.jsxs)(a.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...i,children:[(0,o.jsx)(m,{}),(0,o.jsx)(a.l_,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,o.jsx)(p,{})]})})});g.displayName=a.VY.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(a.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...n})}).displayName=a.__.displayName;let h=n.forwardRef((e,t)=>{let{className:r,children:n,...s}=e;return(0,o.jsxs)(a.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[(0,o.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,o.jsx)(a.wU,{children:(0,o.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,o.jsx)(a.eT,{children:n})]})});h.displayName=a.ck.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(a.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",r),...n})}).displayName=a.Z0.displayName},9116:function(e,t,r){"use strict";r.d(t,{A4:function(){return p},Ox:function(){return i},Wc:function(){return f},a$:function(){return n},cT:function(){return s},hv:function(){return m},k4:function(){return l},nv:function(){return g},pE:function(){return c},pH:function(){return a},uu:function(){return u},yr:function(){return d}});var o=r(9053);async function n(e,t){let r=await fetch(o.Ui,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return await r.json()}async function a(e,t){let r=await fetch(o.C2,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),n=await r.json();return r.ok?n:{status:r.status,message:n.message||"An error occurred during login",access_token:"",token_type:""}}async function s(e,t,r,n){let a=new FormData;a.append("file",e),a.append("prompt_category_id",t),a.append("prompt_subcategory_id",r);let s=await fetch(o.C8,{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:a}),i=await s.json();if(!s.ok)throw Error(i.message||"HTTP error! status: ".concat(s.status));return i}async function i(){let e=localStorage.getItem("token");if(!e)throw Error("No authentication token found. Please log in again.");let t=await fetch(o.cn,{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}async function l(e){let t=localStorage.getItem("token");if(!t)throw Error("No authentication token found. Please log in again.");let r=await fetch(o.rp,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return await r.json()}async function c(){let e=localStorage.getItem("token");if(!e)throw Error("No authentication token found. Please log in again.");let t=await fetch(o.rp,{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}async function d(e,t){if(!e)throw console.error("Category ID is undefined or empty"),Error("Invalid category ID. Cannot update category.");let r=localStorage.getItem("token");if(!r)throw Error("No authentication token found. Please log in again.");console.log("Updating category with ID:",e),console.log("New name:",t),console.log("Using token:",r.substring(0,15)+"...");try{let n=await fetch("".concat(o.rp,"/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(console.log("Update category response status:",n.status),!n.ok){if(401===n.status)throw console.error("Authentication failed (401). Token may be invalid or expired."),localStorage.removeItem("token"),Error("Authentication failed. Please log in again.");let e=await n.text();throw console.error("Error response body:",e),Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}return await n.json()}catch(e){throw console.error("Error updating category:",e),e}}async function u(e){let t=localStorage.getItem("token");if(!t)throw Error("No authentication token found. Please log in again.");let r=await fetch("".concat(o.rp,"/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status))}async function f(e,t,r){let n=localStorage.getItem("token");if(!n)throw Error("No authentication token found. Please log in again.");let a=await fetch(o.Gg,{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({name:e,category_id:t,prompts:r})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return await a.json()}async function m(e){let t=localStorage.getItem("token");if(!t)throw Error("No authentication token found. Please log in again.");let r=e?"".concat(o.Gg,"?category_id=").concat(e):o.Gg,n=await fetch(r,{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));return await n.json()}async function p(e,t,r){let n=localStorage.getItem("token");if(!n)throw Error("No authentication token found. Please log in again.");if(!e)throw console.error("Subcategory ID is undefined or empty"),Error("Invalid subcategory ID. Cannot update subcategory.");console.log("Updating subcategory with ID:",e),console.log("New name:",t),console.log("New prompts:",r),console.log("Using token:",n.substring(0,15)+"...");try{let a=await fetch("".concat(o.Gg,"/").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({name:t,prompts:r})});if(console.log("Update subcategory response status:",a.status),!a.ok){if(401===a.status)throw console.error("Authentication failed (401). Token may be invalid or expired."),localStorage.removeItem("token"),Error("Authentication failed. Please log in again.");if(404===a.status)throw console.error("Subcategory not found (404)."),Error("Subcategory not found. It may have been already deleted.");let e=await a.text();throw console.error("Error response body:",e),Error("HTTP error! status: ".concat(a.status,", message: ").concat(e))}let s=await a.json();return console.log("Update subcategory response:",s),s}catch(e){throw console.error("Error updating subcategory:",e),e}}async function g(e){let t=localStorage.getItem("token");if(!t)throw Error("No authentication token found. Please log in again.");if(!e||"string"!=typeof e)throw console.error("Invalid subcategory ID:",e),Error("Invalid subcategory ID. Cannot delete subcategory.");console.log("Deleting subcategory with ID:",e),console.log("Using token:",t.substring(0,15)+"...");try{let r=await fetch("".concat(o.Gg,"/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(console.log("Delete subcategory response status:",r.status),!r.ok){if(401===r.status)throw console.error("Authentication failed (401). Token may be invalid or expired."),localStorage.removeItem("token"),Error("Authentication failed. Please log in again.");if(404===r.status)throw console.error("Subcategory not found (404)."),Error("Subcategory not found. It may have been already deleted.");let e=await r.text();throw console.error("Error response body:",e),Error("HTTP error! status: ".concat(r.status,", message: ").concat(e))}}catch(e){throw console.error("Error deleting subcategory:",e),e}}},9053:function(e,t,r){"use strict";r.d(t,{C2:function(){return i},C8:function(){return a},Gg:function(){return c},Ui:function(){return n},Vf:function(){return s},cn:function(){return d},rp:function(){return l}});let o="https://".concat("happy-mud-0db17ac03.6",".azurestaticapps.net"),n="".concat(o,"/register"),a="".concat(o,"/upload"),s="".concat(o,"/jobs"),i="".concat(o,"/login"),l="".concat(o,"/categories"),c="".concat(o,"/subcategories"),d="".concat(o,"/retrieve_prompts")},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var o=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,o.W)(t))}},1817:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let o=(0,r(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2636:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let o=(0,r(9205).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])}},function(e){e.O(0,[38,787,146,658,21,971,117,744],function(){return e(e.s=417)}),_N_E=e.O()}]);